---
import BaseHead from "../../components/BaseHead.astro";
import ProjectNavigation from "./ProjectNavigation.astro";

export interface Props {
  title?: string;
  description?: string;
  showNav?: boolean;
  siteName?: string;
  projects?: Array<{
    name: string;
    href: string;
    active?: boolean;
  }>;
}

const {
  title = "Casey Hunt - Portfolio",
  description = "Portfolio and project showcase",
  showNav = true,
  siteName,
  projects,
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;600&family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="site-container">
      {
        showNav && (
          <aside class="navigation-sidebar">
            <ProjectNavigation siteName={siteName} projects={projects} />
          </aside>
        )
      }

      <main class={`main-content ${showNav ? "with-nav" : "full-width"}`}>
        <slot />
      </main>
    </div>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    font-family: "Source Code Pro", monospace;
    background: #ffffff;
  }

  .site-container {
    display: flex;
    min-height: 100vh;
    width: 100%;
  }

  .navigation-sidebar {
    flex-shrink: 0;
  }

  .main-content {
    flex: 1;
    overflow-x: hidden;
  }

  .main-content.with-nav {
    max-width: calc(100vw - 280px);
  }

  .main-content.full-width {
    max-width: 100vw;
  }

  @media (max-width: 768px) {
    .site-container {
      flex-direction: column;
    }

    .main-content.with-nav,
    .main-content.full-width {
      max-width: 100vw;
    }
  }
</style>
